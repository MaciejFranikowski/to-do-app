(this.webpackJsonpcra=this.webpackJsonpcra||[]).push([[0],{38:function(e,t,n){},39:function(e,t,n){},49:function(e,t,n){"use strict";n.r(t);var c=n(2),a=n.n(c),s=n(31),o=n.n(s),r=(n(38),n(9)),i=(n(39),n(13)),l=n(20),j=n(21),u=n(23),d=n(22),b=n(1),h=function(e){var t=e.onChange,n=e.onKeyDown,c=e.text;return Object(b.jsx)("input",{name:"newItemText",type:"text",value:c,onChange:t,onKeyDown:n})},p=(a.a.Component,n(26)),O=n.n(p),x=n(32),f=n(17);n(42),n(50);f.a.apps.length?f.a.app():f.a.initializeApp({apiKey:"AIzaSyCFzCtHpkIqdkoctceHJA3QjFo2gVyp7Nc",authDomain:"to-do-app-2c2aa.firebaseapp.com",projectId:"to-do-app-2c2aa",storageBucket:"to-do-app-2c2aa.appspot.com",messagingSenderId:"882134354010",appId:"1:882134354010:web:ea560bae821a3866a8f063",measurementId:"G-F004E0LLPD"});var g=f.a.auth(),m=f.a.firestore(),v=function(){var e=Object(x.a)(O.a.mark((function e(t,n){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:m.collection("posts").add({owner:t.uid,ownerName:t.displayName,dateCreated:f.a.firestore.FieldValue.serverTimestamp(),text:n});case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),w=function(e){var t=e.text.split("/");return Object(b.jsxs)("li",{children:[Object(b.jsx)("img",{width:"40",height:"40",src:"https://icon-library.com/images/default-profile-icon/default-profile-icon-24.jpg"}),"Name:","  "+t[0],Object(b.jsx)("br",{}),"Description:","  "+t[1]]})},C=function(e){var t=e.toDoList.map((function(e){return Object(b.jsx)(w,{text:e},e)}));return Object(b.jsxs)("div",{children:[Object(b.jsx)("ul",{children:t}),Object(b.jsx)("button",{onClick:e.adder,children:"Update posts"})]})},y=n(5),N=function(){var e=Object(c.useState)(""),t=Object(r.a)(e,2),n=t[0],a=t[1],s=Object(c.useState)(""),o=Object(r.a)(s,2),i=o[0],l=o[1],j=Object(c.useState)(!1),u=Object(r.a)(j,2),d=u[0],h=u[1];return d?Object(b.jsx)(y.a,{to:"/"}):Object(b.jsxs)("div",{children:[Object(b.jsx)("input",{className:"form-input",placeholder:"Email",value:n,onChange:function(e){return a(e.target.value)}}),Object(b.jsx)("input",{className:"form-input",placeholder:"Has\u0142o",type:"password",value:i,onChange:function(e){return l(e.target.value)}}),Object(b.jsx)("button",{onClick:function(){g.signInWithEmailAndPassword(n,i).then((function(e){h(!0),console.log("zalogowano")})).catch((function(e){console.log(e)}))},children:"Login"})]})},k=Object(c.createContext)({message:"",setMessage:function(){}}),S=[],D=function(){var e=Object(c.useContext)(k),t=e.message,n=e.setMessage;return Object(b.jsxs)("div",{className:"form",children:[Object(b.jsx)("input",{className:"input2",value:t,onChange:function(e){return n(e.target.value)}}),Object(b.jsx)("button",{onClick:function(){v(g.currentUser,t)},children:"Dodaj post"}),Object(b.jsx)("button",{onClick:function(){S=[],m.collection("posts").get().then((function(e){e.forEach((function(e){S.push(e.data().ownerName.toString()+"/"+e.data().text.toString())})),console.log(S)}))},children:"Pobierz posty"})]})},L=function(){var e=Object(c.useState)(""),t=Object(r.a)(e,2),n=t[0],a=t[1],s=Object(c.useState)(""),o=Object(r.a)(s,2),i=o[0],l=o[1],j=Object(c.useState)(""),u=Object(r.a)(j,2),d=u[0],h=u[1],p=Object(c.useState)(!1),O=Object(r.a)(p,2),x=O[0],f=O[1];return x?Object(b.jsx)(y.a,{to:"/"}):Object(b.jsxs)("div",{className:"form",children:[Object(b.jsx)("label",{htmlFor:"displayName",children:"Nazwa u\u017cytkownika"}),Object(b.jsx)("div",{children:Object(b.jsx)("input",{id:"displayName",name:"username",className:"input2",value:d,placeholder:"Nazwa u\u017cytkownika",onChange:function(e){return h(e.target.value)}})}),Object(b.jsx)("label",{htmlFor:"email",children:"Email"}),Object(b.jsx)("div",{children:Object(b.jsx)("input",{id:"email",type:"email",name:"email",className:"input2",value:n,placeholder:"Email",onChange:function(e){return a(e.target.value)}})}),Object(b.jsx)("label",{htmlFor:"password",children:"Haslo"}),Object(b.jsx)("div",{children:Object(b.jsx)("input",{id:"password",name:"password",type:"password",className:"input2",value:i,placeholder:"Has\u0142o",onChange:function(e){return l(e.target.value)}})}),Object(b.jsx)("button",{onClick:function(){g.createUserWithEmailAndPassword(n,i).then((function(){g.signInWithEmailAndPassword(n,i).then((function(e){e.user.updateProfile({displayName:d}).catch((function(e){console.log(e)})),f(!0)}))})).catch((function(e){console.log(e)}))},children:"Utw\xf3rz konto"})]})},E=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(l.a)(this,n);for(var c=arguments.length,a=new Array(c),s=0;s<c;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={toDoList:[]},e.adder=function(){for(console.log("updating the list");e.state.toDoList.length>0;)e.setState({toDoList:e.state.toDoList.pop()});null!=g.currentUser&&S.forEach((function(t){e.setState({toDoList:e.state.toDoList.concat(S)})}))},e}return Object(j.a)(n,[{key:"render",value:function(){return Object(b.jsxs)(y.d,{children:[Object(b.jsx)(y.b,{path:"/",exact:!0,children:Object(b.jsx)("section",{children:Object(b.jsx)(C,{toDoList:this.state.toDoList,adder:this.adder})})}),Object(b.jsx)(y.b,{path:"/login",children:Object(b.jsx)("section",{children:Object(b.jsx)(N,{})})}),Object(b.jsx)(y.b,{path:"/register",children:Object(b.jsx)("section",{children:Object(b.jsx)(L,{})})}),Object(b.jsx)(y.b,{path:"/messager",children:Object(b.jsx)("section",{children:Object(b.jsx)(D,{})})}),Object(b.jsx)(y.b,{children:Object(b.jsx)("section",{children:Object(b.jsx)("h1",{children:"Error 404 - not found"})})})]})}}]),n}(a.a.Component),F=function(){var e=Object(c.useState)(null),t=Object(r.a)(e,2),n=t[0],a=t[1];Object(c.useEffect)((function(){var e=g.onAuthStateChanged((function(e){e?a(e):console.log("User no logged")}));return function(){return e()}}),[]);return console.log(g.currentUser),n?Object(b.jsxs)("div",{className:"topnav",children:[Object(b.jsx)(i.b,{to:"/",exact:!0,onClick:E.adder,children:"Posts"}),Object(b.jsx)(i.b,{to:"/messager",children:n.displayName.toString()}),Object(b.jsx)("a",{href:"/",className:"nav-button",onClick:function(){g.signOut()},children:"Wyloguj"})]}):Object(b.jsxs)("div",{className:"topnav",children:[Object(b.jsx)(i.b,{to:"/",exact:!0,children:"User List"}),Object(b.jsx)(i.b,{to:"/login",children:"Login"}),Object(b.jsx)(i.b,{to:"/register",children:"Register"}),Object(b.jsx)(i.b,{to:"/messager",children:"Messager"})]})};var I=function(){var e=Object(c.useState)("empty"),t=Object(r.a)(e,2),n=t[0],a=t[1];return Object(b.jsx)(i.a,{children:Object(b.jsxs)(k.Provider,{value:{message:n,setMessage:a},children:[Object(b.jsx)("h2",{children:"Developer Tinder"}),Object(b.jsxs)("main",{children:[Object(b.jsx)(F,{}),Object(b.jsx)("br",{}),Object(b.jsx)(E,{})]})]})})},P=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,51)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,s=t.getLCP,o=t.getTTFB;n(e),c(e),a(e),s(e),o(e)}))};o.a.render(Object(b.jsx)(a.a.StrictMode,{children:Object(b.jsx)(I,{})}),document.getElementById("root")),P()}},[[49,1,2]]]);
//# sourceMappingURL=main.3556c47c.chunk.js.map